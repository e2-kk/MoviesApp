{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Slider from\"react-slick\";import\"./MainPage.css\";import MovieCard from\"../Movies/MovieCard\";import LoadingMovieCard from\"../Movies/LoadingMovieCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainPage=_ref=>{let{handleLike}=_ref;const api_key=\"f3855f8bdde19bb1dd9b18e80bc383b6\";const[popularMovies,setPopularMovies]=useState([]);const[weeklyPopularMovies,setWeeklyPopularMovies]=useState([]);const[curentCinemaMovies,setCurrentCinemaMovies]=useState([]);const[error,setError]=useState([]);const[isLoading,setIsLoading]=useState(false);const skeletons=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];useEffect(()=>{setIsLoading(true);axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(api_key)).then(response=>{setPopularMovies(response.data.results);setIsLoading(false);}).catch(error=>{setError(error.message);setIsLoading(false);});axios.get(\"https://api.themoviedb.org/3/trending/movie/week?api_key=\".concat(api_key)).then(response=>{setWeeklyPopularMovies(response.data.results);setIsLoading(false);}).catch(error=>{setError(error.message);setIsLoading(false);});axios.get(\"https://api.themoviedb.org/3/movie/now_playing?api_key=\".concat(api_key)).then(response=>{setCurrentCinemaMovies(response.data.results);setIsLoading(false);}).catch(error=>{setError(error.message);setIsLoading(false);});},[]);//console.log(popularMovies);\nconsole.log(error);//settings for movies slider\nconst settings={dots:false,infinite:false,speed:500,slidesToShow:8,slidesToScroll:1,responsive:[{breakpoint:1650,settings:{slidesToShow:7,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:1450,settings:{slidesToShow:6,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:1140,settings:{slidesToShow:5,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:950,settings:{slidesToShow:4,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:750,settings:{slidesToShow:3,slidesToScroll:3,infinite:true,dots:true}}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"movies_container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"slider_size\",children:\"Popular Movies\"}),error&&popularMovies.length===0?/*#__PURE__*/_jsx(\"em\",{children:error}):/*#__PURE__*/_jsxs(Slider,{...settings,className:\"movies_slider\",children:[isLoading&&skeletons.map(skeleton=>/*#__PURE__*/_jsx(LoadingMovieCard,{},skeleton)),popularMovies===null||popularMovies===void 0?void 0:popularMovies.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie,handleLike:handleLike},movie.id))]}),/*#__PURE__*/_jsx(\"h2\",{className:\"slider_heading slider_size\",children:\"Trending This Week\"}),error&&weeklyPopularMovies.length===0?/*#__PURE__*/_jsx(\"em\",{children:error}):/*#__PURE__*/_jsxs(Slider,{...settings,className:\"movies_slider\",children:[isLoading&&skeletons.map(skeleton=>/*#__PURE__*/_jsx(LoadingMovieCard,{},skeleton)),weeklyPopularMovies===null||weeklyPopularMovies===void 0?void 0:weeklyPopularMovies.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie,handleLike:handleLike},movie.id))]}),/*#__PURE__*/_jsx(\"h2\",{className:\"slider_heading slider_size\",children:\"In Cinemas Now\"}),error&&curentCinemaMovies.length===0?/*#__PURE__*/_jsx(\"em\",{children:error}):/*#__PURE__*/_jsxs(Slider,{...settings,className:\"movies_slider\",children:[isLoading&&skeletons.map(skeleton=>/*#__PURE__*/_jsx(LoadingMovieCard,{},skeleton)),curentCinemaMovies===null||curentCinemaMovies===void 0?void 0:curentCinemaMovies.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie,handleLike:handleLike},movie.id))]})]});};export default MainPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Slider","MovieCard","LoadingMovieCard","jsx","_jsx","jsxs","_jsxs","MainPage","_ref","handleLike","api_key","popularMovies","setPopularMovies","weeklyPopularMovies","setWeeklyPopularMovies","curentCinemaMovies","setCurrentCinemaMovies","error","setError","isLoading","setIsLoading","skeletons","get","concat","then","response","data","results","catch","message","console","log","settings","dots","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","className","children","length","map","skeleton","movie","id"],"sources":["/Users/elinakirspile/moviefinder/src/components/MainPage/MainPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Slider from \"react-slick\";\n\nimport \"./MainPage.css\";\nimport MovieCard from \"../Movies/MovieCard\";\nimport LoadingMovieCard from \"../Movies/LoadingMovieCard\";\n\nconst MainPage = ({ handleLike }) => {\n  const api_key = \"f3855f8bdde19bb1dd9b18e80bc383b6\";\n  const [popularMovies, setPopularMovies] = useState([]);\n  const [weeklyPopularMovies, setWeeklyPopularMovies] = useState([]);\n  const [curentCinemaMovies, setCurrentCinemaMovies] = useState([]);\n\n  const [error, setError] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const skeletons = [\n    1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n  ];\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .get(`https://api.themoviedb.org/3/movie/popular?api_key=${api_key}`)\n      .then((response) => {\n        setPopularMovies(response.data.results);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        setError(error.message);\n        setIsLoading(false);\n      });\n    axios\n      .get(\n        `https://api.themoviedb.org/3/trending/movie/week?api_key=${api_key}`\n      )\n      .then((response) => {\n        setWeeklyPopularMovies(response.data.results);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        setError(error.message);\n        setIsLoading(false);\n      });\n    axios\n      .get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${api_key}`)\n      .then((response) => {\n        setCurrentCinemaMovies(response.data.results);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        setError(error.message);\n        setIsLoading(false);\n      });\n  }, []);\n\n  //console.log(popularMovies);\n  console.log(error);\n\n  //settings for movies slider\n  const settings = {\n    dots: false,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 8,\n    slidesToScroll: 1,\n    responsive: [\n      {\n        breakpoint: 1650,\n        settings: {\n          slidesToShow: 7,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n      {\n        breakpoint: 1450,\n        settings: {\n          slidesToShow: 6,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n      {\n        breakpoint: 1140,\n        settings: {\n          slidesToShow: 5,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n      {\n        breakpoint: 950,\n        settings: {\n          slidesToShow: 4,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n      {\n        breakpoint: 750,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 3,\n          infinite: true,\n          dots: true,\n        },\n      },\n    ],\n  };\n\n  return (\n    <div className=\"movies_container\">\n      <h2 className=\"slider_size\">Popular Movies</h2>\n\n      {error && popularMovies.length === 0 ? (\n        <em>{error}</em>\n      ) : (\n        <Slider {...settings} className=\"movies_slider\">\n          {isLoading &&\n            skeletons.map((skeleton) => <LoadingMovieCard key={skeleton} />)}\n          {popularMovies?.map((movie) => (\n            <MovieCard movie={movie} key={movie.id} handleLike={handleLike} />\n          ))}\n        </Slider>\n      )}\n\n      <h2 className=\"slider_heading slider_size\">Trending This Week</h2>\n      {error && weeklyPopularMovies.length === 0 ? (\n        <em>{error}</em>\n      ) : (\n        <Slider {...settings} className=\"movies_slider\">\n          {isLoading &&\n            skeletons.map((skeleton) => <LoadingMovieCard key={skeleton} />)}\n          {weeklyPopularMovies?.map((movie) => (\n            <MovieCard movie={movie} key={movie.id} handleLike={handleLike} />\n          ))}\n        </Slider>\n      )}\n      <h2 className=\"slider_heading slider_size\">In Cinemas Now</h2>\n\n      {error && curentCinemaMovies.length === 0 ? (\n        <em>{error}</em>\n      ) : (\n        <Slider {...settings} className=\"movies_slider\">\n          {isLoading &&\n            skeletons.map((skeleton) => <LoadingMovieCard key={skeleton} />)}\n          {curentCinemaMovies?.map((movie) => (\n            <MovieCard movie={movie} key={movie.id} handleLike={handleLike} />\n          ))}\n        </Slider>\n      )}\n    </div>\n  );\n};\n\nexport default MainPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}