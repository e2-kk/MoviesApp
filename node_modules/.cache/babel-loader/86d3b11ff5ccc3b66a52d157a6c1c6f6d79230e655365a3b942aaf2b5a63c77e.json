{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Route,Routes}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import\"./App.css\";import MovieList from\"./components/Movies/MovieList\";import Navbar from\"./components/Navbar/Navbar\";import MoviePage from\"./components/Movies/MoviePage\";import MainPage from\"./components/MainPage/MainPage\";import SavedMovies from\"./components/SavedMovies/SavedMovies\";import About from\"./components/About/About\";//get saved movies from user's local storage\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const savedMovies=localStorage.getItem(\"likedMovies\");console.log(savedMovies);function App(){const[likedMovies,setLikedMovies]=useState(JSON.parse(savedMovies)||[]);//when there's a change in likedMovies, save likedMovies to user's local storage\nuseEffect(()=>{localStorage.setItem(\"likedMovies\",JSON.stringify(likedMovies));},[likedMovies]);//get liked movie\nconst handleLike=movie=>{const addedMovies=[...likedMovies];const movieIndex=addedMovies.findIndex(item=>item.movie.id===movie.id);if(movieIndex===-1){addedMovies.push({movie:movie});toast.success(movie.title+\" \"+\"was added to Saved Movies\",{position:\"bottom-right\"});}else{toast.error(movie.title+\" \"+\"is already added to Saved Movies\",{position:\"bottom-right\"});}setLikedMovies(addedMovies);};//delete movie from likedMovies\nconst deleteMovie=movie=>{const addedMovies=[...likedMovies];const newMovies=addedMovies.filter(item=>item!==movie);toast.success(movie.movie.title+\" \"+\"was removed from Saved Movies\",{position:\"bottom-right\"});setLikedMovies(newMovies);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{likedMovies:likedMovies.length}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/all_movies\",element:/*#__PURE__*/_jsx(MovieList,{setLikedMovies:setLikedMovies,likedMovies:likedMovies,handleLike:handleLike})}),/*#__PURE__*/_jsx(Route,{path:\"/movie/:id\",element:/*#__PURE__*/_jsx(MoviePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{handleLike:handleLike})}),/*#__PURE__*/_jsx(Route,{path:\"saved_movies\",element:/*#__PURE__*/_jsx(SavedMovies,{likedMovies:likedMovies,deleteMovie:deleteMovie})}),/*#__PURE__*/_jsx(Route,{path:\"about_project\",element:/*#__PURE__*/_jsx(About,{})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","ToastContainer","toast","MovieList","Navbar","MoviePage","MainPage","SavedMovies","About","jsx","_jsx","jsxs","_jsxs","savedMovies","localStorage","getItem","console","log","App","likedMovies","setLikedMovies","JSON","parse","setItem","stringify","handleLike","movie","addedMovies","movieIndex","findIndex","item","id","push","success","title","position","error","deleteMovie","newMovies","filter","className","children","length","path","element"],"sources":["/Users/elinakirspile/moviefinder/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./App.css\";\nimport MovieList from \"./components/Movies/MovieList\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport MoviePage from \"./components/Movies/MoviePage\";\nimport MainPage from \"./components/MainPage/MainPage\";\nimport SavedMovies from \"./components/SavedMovies/SavedMovies\";\nimport About from \"./components/About/About\";\n\n//get saved movies from user's local storage\nconst savedMovies = localStorage.getItem(\"likedMovies\");\nconsole.log(savedMovies);\n\nfunction App() {\n  const [likedMovies, setLikedMovies] = useState(JSON.parse(savedMovies) || []);\n\n  //when there's a change in likedMovies, save likedMovies to user's local storage\n  useEffect(() => {\n    localStorage.setItem(\"likedMovies\", JSON.stringify(likedMovies));\n  }, [likedMovies]);\n\n  //get liked movie\n  const handleLike = (movie) => {\n    const addedMovies = [...likedMovies];\n    const movieIndex = addedMovies.findIndex(\n      (item) => item.movie.id === movie.id\n    );\n    if (movieIndex === -1) {\n      addedMovies.push({ movie: movie });\n      toast.success(movie.title + \" \" + \"was added to Saved Movies\", {\n        position: \"bottom-right\",\n      });\n    } else {\n      toast.error(movie.title + \" \" + \"is already added to Saved Movies\", {\n        position: \"bottom-right\",\n      });\n    }\n\n    setLikedMovies(addedMovies);\n  };\n\n  //delete movie from likedMovies\n\n  const deleteMovie = (movie) => {\n    const addedMovies = [...likedMovies];\n\n    const newMovies = addedMovies.filter((item) => item !== movie);\n    toast.success(movie.movie.title + \" \" + \"was removed from Saved Movies\", {\n      position: \"bottom-right\",\n    });\n\n    setLikedMovies(newMovies);\n  };\n\n  return (\n    <div className=\"App\">\n      <Navbar likedMovies={likedMovies.length} />\n      <ToastContainer />\n      <Routes>\n        <Route\n          path=\"/all_movies\"\n          element={\n            <MovieList\n              setLikedMovies={setLikedMovies}\n              likedMovies={likedMovies}\n              handleLike={handleLike}\n            />\n          }\n        ></Route>\n        <Route path=\"/movie/:id\" element={<MoviePage />}></Route>\n        <Route path=\"/\" element={<MainPage handleLike={handleLike} />}></Route>\n        <Route\n          path=\"saved_movies\"\n          element={\n            <SavedMovies likedMovies={likedMovies} deleteMovie={deleteMovie} />\n          }\n        ></Route>\n        <Route path=\"about_project\" element={<About />}></Route>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}